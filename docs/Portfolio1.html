<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Logistic Regression Modeling</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Marcus Carroll</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Portfolio1.html">Portfolio1</a>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Logistic Regression Modeling</h1>

</div>


<div id="introduction" class="section level1">
<h1>1:Introduction</h1>
<p>In the recent past, minorities in Tacoma, Washington were denied access to home loans based on where they lived. This practice is known as redlining because property assessors would create maps with minority communities outlined in red. The red outline told bankers those minority communities were not fit for loans. The consequence of redlining was a significant disparity in mortgage loans and homeownership rates between white communities and minority communities.</p>
<p>Today, banks don’t practice redlining, but disparities in mortgage loans and homeownership still exist at a significant rate. For example, the average homeownership rate in the West Census Region is 59.3 %; however, the average homeownership rate for minorities (47.9 %) is 11.4 points below the West Census Region’s average, and 25.2 points below their white peers (73.1 %).</p>
<p>Homeownership is an effective wealth generating tool. According to a study conducted by the Demos organization, if disparites in homeownership rates were closed; the wealth gap between white and black families decreased by 31 %. Because of these circumstances, an analysis of home mortgage data to discover patterns in loan approval / denial rates in the Tacoma-Lakewwood area is warranted.</p>
<div id="data" class="section level2">
<h2>1.1: Data</h2>
<p>Analysis began by gathering data from the Consumer Financial Protection Bureau (CFPB). The CFPB provides access to loan-level data so that trends in mortgage applications can be monitored. Action taken on loan applications, HUD median income, loan amount, appliancts income, race and ethnicity, gender, loan type and purpose are some of the variables that are included in the dataset from the CFPB. For this analyses, the mortgage dataset included 35,000 observations for the Tacoma-Lakewood area, of which 85 % of the applicants were approved for mortgages.</p>
</div>
<div id="methods" class="section level2">
<h2>1.2: Methods</h2>
<p>To guide the modeling approach, the process began with the assumption that minorities were denied mortgage loans at a greater rate than non-minorites when controlling for loan amount,income and other factors. This hypothesis was based on trends in homeownership rates. Furthermore, logistic regression was used to generate the probability of the rejection of a mortgage loan based on race.</p>
</div>
</div>
<div id="exploratory-analysis" class="section level1">
<h1>2: Exploratory Analysis</h1>
<p>Exploratory analysis was used to understand how categorical variables were related and the associations between continuous, independent variables.</p>
<div id="exploratory-analysis-of-categorical-variables" class="section level2">
<h2>2:1 Exploratory Analysis of Categorical Variables</h2>
<p>Variables such as applicant_sex, applicant_race were used to conduct a series of t-test and chi-square test to determine the significance of differences in mortgage denial rates. The full table and the results of the significance test are included in the Appendix here. As an example, test were conducted a to determine whether the denial rates for minorities was significantly different from non-minoirties. Figure 1 shows the overall approval and denial rates for mortgage loans, of which roughly 85 % were approved and 15 % denied.</p>
<div id="figure-1" class="section level3">
<h3>Figure 1</h3>
<p><img src="images/Rplot2.png" /></p>
</div>
</div>
</div>
<div id="appendix" class="section level1">
<h1>Appendix</h1>
<div id="chi-square-test" class="section level3">
<h3>Chi-square test</h3>
<pre><code>## &#39;data.frame&#39;:    30458 obs. of  47 variables:
##  $ tract_to_msamd_income         : num  123.2 177.3 93.2 80.5 177.3 ...
##  $ rate_spread                   : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ population                    : int  5107 4357 6765 5121 4357 4357 5477 4357 3755 4361 ...
##  $ minority_population           : num  7.03 29.31 20.38 18.24 29.31 ...
##  $ number_of_owner_occupied_units: int  1601 1493 1464 745 1493 1493 1026 1493 1095 983 ...
##  $ number_of_1_to_4_family_units : int  2164 1642 2019 1539 1642 1642 1984 1642 1256 1663 ...
##  $ loan_amount_000s              : int  392 408 263 242 393 592 200 209 259 151 ...
##  $ hud_median_family_income      : int  74500 74500 74500 74500 74500 74500 74500 74500 74500 74500 ...
##  $ applicant_income_000s         : int  69 112 140 85 167 106 109 26 70 92 ...
##  $ state_name                    : Factor w/ 1 level &quot;Washington&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ state_abbr                    : Factor w/ 1 level &quot;WA&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ sequence_number               : logi  NA NA NA NA NA NA ...
##  $ respondent_id                 : Factor w/ 436 levels &quot;0000000435&quot;,&quot;0000000665&quot;,..: 385 117 368 386 371 135 128 161 356 386 ...
##  $ purchaser_type_name           : Factor w/ 9 levels &quot;Affiliate institution&quot;,..: 4 7 4 4 5 7 3 7 2 4 ...
##  $ property_type_name            : Factor w/ 3 levels &quot;Manufactured housing&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
##  $ preapproval_name              : Factor w/ 3 levels &quot;Not applicable&quot;,..: 1 1 1 1 2 2 1 1 1 1 ...
##  $ owner_occupancy_name          : Factor w/ 2 levels &quot;Not owner-occupied as a principal dwelling&quot;,..: 2 2 2 2 2 2 1 2 2 2 ...
##  $ msamd_name                    : Factor w/ 1 level &quot;Tacoma, Lakewood - WA&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ loan_type_name                : Factor w/ 4 levels &quot;Conventional&quot;,..: 1 2 1 1 2 4 1 1 1 1 ...
##  $ loan_purpose_name             : Factor w/ 3 levels &quot;Home improvement&quot;,..: 2 3 3 3 2 2 2 3 3 3 ...
##  $ lien_status_name              : Factor w/ 1 level &quot;Secured by a first lien&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ hoepa_status_name             : Factor w/ 2 levels &quot;HOEPA loan&quot;,&quot;Not a HOEPA loan&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ edit_status_name              : logi  NA NA NA NA NA NA ...
##  $ denial_reason_name_3          : Factor w/ 10 levels &quot;&quot;,&quot;Collateral&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ denial_reason_name_2          : Factor w/ 9 levels &quot;&quot;,&quot;Collateral&quot;,..: 1 4 1 1 1 5 1 1 1 1 ...
##  $ denial_reason_name_1          : Factor w/ 10 levels &quot;&quot;,&quot;Collateral&quot;,..: 1 5 1 1 1 4 1 5 1 1 ...
##  $ county_name                   : Factor w/ 1 level &quot;Pierce County&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ co_applicant_sex_name         : Factor w/ 5 levels &quot;Female&quot;,&quot;Information not provided by applicant in mail, Internet, or telephone application&quot;,..: 1 4 1 4 1 1 1 4 1 1 ...
##  $ co_applicant_race_name_5      : logi  NA NA NA NA NA NA ...
##  $ co_applicant_race_name_4      : Factor w/ 2 levels &quot;&quot;,&quot;White&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ co_applicant_race_name_3      : Factor w/ 5 levels &quot;&quot;,&quot;American Indian or Alaska Native&quot;,..: 1 1 1 1 5 1 1 1 1 1 ...
##  $ co_applicant_race_name_2      : Factor w/ 6 levels &quot;&quot;,&quot;American Indian or Alaska Native&quot;,..: 1 1 1 1 4 1 1 1 1 1 ...
##  $ co_applicant_race_name_1      : Factor w/ 8 levels &quot;American Indian or Alaska Native&quot;,..: 8 6 8 6 1 4 2 6 8 8 ...
##  $ co_applicant_ethnicity_name   : Factor w/ 5 levels &quot;Hispanic or Latino&quot;,..: 5 3 5 3 5 1 5 3 5 5 ...
##  $ census_tract_number           : num  608 9400 611 609 9400 ...
##  $ as_of_year                    : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...
##  $ application_date_indicator    : logi  NA NA NA NA NA NA ...
##  $ applicant_sex_name            : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 2 2 2 1 2 2 2 2 2 2 ...
##  $ applicant_race_name_5         : Factor w/ 2 levels &quot;&quot;,&quot;White&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ applicant_race_name_4         : Factor w/ 3 levels &quot;&quot;,&quot;Native Hawaiian or Other Pacific Islander&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ applicant_race_name_3         : Factor w/ 6 levels &quot;&quot;,&quot;American Indian or Alaska Native&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ applicant_race_name_2         : Factor w/ 6 levels &quot;&quot;,&quot;American Indian or Alaska Native&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ applicant_race_name_1         : Factor w/ 5 levels &quot;American Indian or Alaska Native&quot;,..: 5 5 5 5 5 5 2 5 5 5 ...
##  $ applicant_ethnicity_name      : Factor w/ 4 levels &quot;Hispanic or Latino&quot;,..: 4 1 4 4 4 4 4 1 4 4 ...
##  $ agency_name                   : Factor w/ 6 levels &quot;Consumer Financial Protection Bureau&quot;,..: 2 1 2 2 2 1 1 1 2 2 ...
##  $ agency_abbr                   : Factor w/ 6 levels &quot;CFPB&quot;,&quot;FDIC&quot;,..: 4 1 4 4 4 1 1 1 4 4 ...
##  $ action_taken_name             : Factor w/ 2 levels &quot;Application denied by financial institution&quot;,..: 2 1 2 2 2 1 2 1 2 2 ...</code></pre>
<pre><code>##                                            
##                                             Application denied by financial institution
##   American Indian or Alaska Native                                                   97
##   Asian                                                                             470
##   Black or African American                                                         468
##   Native Hawaiian or Other Pacific Islander                                         103
##   White                                                                            3634
##                                            
##                                             Loan originated
##   American Indian or Alaska Native                      384
##   Asian                                                1822
##   Black or African American                            1568
##   Native Hawaiian or Other Pacific Islander             411
##   White                                               21501</code></pre>
<pre><code>##                                            
##                                             Application denied by financial institution
##   American Indian or Alaska Native                                                   97
##   Asian                                                                             470
##   Black or African American                                                         468
##   Native Hawaiian or Other Pacific Islander                                         103
##   White                                                                            3634
##                                            
##                                             Loan originated
##   American Indian or Alaska Native                      384
##   Asian                                                1822
##   Black or African American                            1568
##   Native Hawaiian or Other Pacific Islander             411
##   White                                               21501</code></pre>
<pre><code>##          American Indian or Alaska Native 
##                                       481 
##                                     Asian 
##                                      2292 
##                 Black or African American 
##                                      2036 
## Native Hawaiian or Other Pacific Islander 
##                                       514 
##                                     White 
##                                     25135</code></pre>
<pre><code>## Application denied by financial institution 
##                                        4772 
##                             Loan originated 
##                                       25686</code></pre>
<pre><code>##                                            
##                                             Application denied by financial institution
##   American Indian or Alaska Native                                            0.3184713
##   Asian                                                                       1.5431085
##   Black or African American                                                   1.5365421
##   Native Hawaiian or Other Pacific Islander                                   0.3381706
##   White                                                                      11.9311839
##                                            
##                                             Loan originated
##   American Indian or Alaska Native                1.2607525
##   Asian                                           5.9820080
##   Black or African American                       5.1480728
##   Native Hawaiian or Other Pacific Islander       1.3493992
##   White                                          70.5922910</code></pre>
<pre><code>##                                            
##                                             Application denied by financial institution
##   American Indian or Alaska Native                                             2.032691
##   Asian                                                                        9.849120
##   Black or African American                                                    9.807209
##   Native Hawaiian or Other Pacific Islander                                    2.158424
##   White                                                                       76.152557
##                                            
##                                             Loan originated
##   American Indian or Alaska Native                 1.494978
##   Asian                                            7.093358
##   Black or African American                        6.104493
##   Native Hawaiian or Other Pacific Islander        1.600093
##   White                                           83.707078</code></pre>
<pre><code>##                                            
##                                             Application denied by financial institution
##   American Indian or Alaska Native                                             2.032691
##   Asian                                                                        9.849120
##   Black or African American                                                    9.807209
##   Native Hawaiian or Other Pacific Islander                                    2.158424
##   White                                                                       76.152557
##                                            
##                                             Loan originated
##   American Indian or Alaska Native                 1.494978
##   Asian                                            7.093358
##   Black or African American                        6.104493
##   Native Hawaiian or Other Pacific Islander        1.600093
##   White                                           83.707078</code></pre>
<pre><code>## Application denied by financial institution 
##                                         100 
##                             Loan originated 
##                                         100</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  tac$applicant_race_name_1 and tac$action_taken_name
## X-squared = 165.79, df = 4, p-value &lt; 2.2e-16</code></pre>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
